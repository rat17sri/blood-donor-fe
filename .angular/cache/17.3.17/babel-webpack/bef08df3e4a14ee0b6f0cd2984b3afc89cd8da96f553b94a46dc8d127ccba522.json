{"ast":null,"code":"import { FormBuilder, Validators } from '@angular/forms';\nimport { AuthService } from '../../services/auth.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../services/auth.service\";\nimport * as i3 from \"@angular/common\";\nfunction RegisterComponent_label_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"label\", 6)(1, \"span\", 26);\n    i0.ɵɵtext(2, \"Name is required\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction RegisterComponent_label_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"label\", 6)(1, \"span\", 26);\n    i0.ɵɵtext(2, \"Valid email is required\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction RegisterComponent_label_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"label\", 6)(1, \"span\", 26);\n    i0.ɵɵtext(2, \" Password must be at least 6 characters \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction RegisterComponent_label_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"label\", 6)(1, \"span\", 26);\n    i0.ɵɵtext(2, \"Phone is required\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction RegisterComponent_option_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 27);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const bg_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", bg_r1);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(bg_r1);\n  }\n}\nfunction RegisterComponent_label_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"label\", 6)(1, \"span\", 26);\n    i0.ɵɵtext(2, \"Please select a blood group\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction RegisterComponent_label_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"label\", 6)(1, \"span\", 26);\n    i0.ɵɵtext(2, \"City is required\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction RegisterComponent_span_58_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Register\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_span_59_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 28);\n  }\n}\nfunction RegisterComponent_span_60_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 29);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.successMsg, \" \");\n  }\n}\nfunction RegisterComponent_span_61_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 30);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.errorMsg, \" \");\n  }\n}\nexport let RegisterComponent = /*#__PURE__*/(() => {\n  class RegisterComponent {\n    constructor(fb, auth) {\n      this.fb = fb;\n      this.auth = auth;\n      this.successMsg = '';\n      this.errorMsg = '';\n      this.loading = false;\n      this.bloodGroups = ['A+', 'A-', 'B+', 'B-', 'AB+', 'AB-', 'O+', 'O-'];\n      this.form = this.fb.group({\n        name: ['', Validators.required],\n        email: ['', [Validators.required, Validators.email]],\n        password: ['', [Validators.required, Validators.minLength(6)]],\n        phone: ['', Validators.required],\n        bloodGroup: ['', Validators.required],\n        city: ['', Validators.required],\n        lastDonationDate: [''],\n        isAvailable: [true]\n      });\n    }\n    submit() {\n      if (this.form.invalid) {\n        this.form.markAllAsTouched();\n        return;\n      }\n      this.successMsg = '';\n      this.errorMsg = '';\n      this.loading = true;\n      this.auth.register(this.form.value).subscribe({\n        next: () => {\n          this.loading = false;\n          this.successMsg = 'Registered successfully as donor.';\n          this.form.reset({\n            isAvailable: true\n          });\n        },\n        error: err => {\n          this.loading = false;\n          this.errorMsg = err?.error?.msg || 'Registration failed';\n        }\n      });\n    }\n    static {\n      this.ɵfac = function RegisterComponent_Factory(t) {\n        return new (t || RegisterComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: RegisterComponent,\n        selectors: [[\"app-register\"]],\n        decls: 62,\n        vars: 25,\n        consts: [[1, \"max-w-2xl\", \"mx-auto\"], [1, \"text-3xl\", \"font-bold\", \"mb-4\"], [1, \"mb-6\", \"opacity-80\"], [1, \"card\", \"bg-base-100\", \"shadow-xl\", \"p-6\", \"space-y-4\", 3, \"ngSubmit\", \"formGroup\"], [1, \"grid\", \"md:grid-cols-2\", \"gap-4\"], [1, \"form-control\"], [1, \"label\"], [1, \"label-text\"], [\"type\", \"text\", \"formControlName\", \"name\", 1, \"input\", \"input-bordered\"], [\"class\", \"label\", 4, \"ngIf\"], [\"type\", \"email\", \"formControlName\", \"email\", 1, \"input\", \"input-bordered\"], [\"type\", \"password\", \"formControlName\", \"password\", 1, \"input\", \"input-bordered\"], [\"type\", \"text\", \"formControlName\", \"phone\", 1, \"input\", \"input-bordered\"], [\"formControlName\", \"bloodGroup\", 1, \"select\", \"select-bordered\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"text\", \"formControlName\", \"city\", 1, \"input\", \"input-bordered\"], [\"type\", \"date\", \"formControlName\", \"lastDonationDate\", 1, \"input\", \"input-bordered\"], [1, \"cursor-pointer\", \"label\"], [\"type\", \"checkbox\", \"formControlName\", \"isAvailable\", 1, \"toggle\", \"toggle-primary\"], [1, \"flex\", \"items-center\", \"gap-4\", \"pt-2\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [4, \"ngIf\"], [\"class\", \"loading loading-spinner\", 4, \"ngIf\"], [\"class\", \"text-success text-sm\", 4, \"ngIf\"], [\"class\", \"text-error text-sm\", 4, \"ngIf\"], [1, \"label-text-alt\", \"text-error\"], [3, \"value\"], [1, \"loading\", \"loading-spinner\"], [1, \"text-success\", \"text-sm\"], [1, \"text-error\", \"text-sm\"]],\n        template: function RegisterComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n            i0.ɵɵtext(2, \"Donor Registration\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(3, \"p\", 2);\n            i0.ɵɵtext(4, \" Fill in your details below to register as a blood donor. We\\u2019ll share your information only with verified organizations in need. \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(5, \"form\", 3);\n            i0.ɵɵlistener(\"ngSubmit\", function RegisterComponent_Template_form_ngSubmit_5_listener() {\n              return ctx.submit();\n            });\n            i0.ɵɵelementStart(6, \"div\", 4)(7, \"div\", 5)(8, \"label\", 6)(9, \"span\", 7);\n            i0.ɵɵtext(10, \"Full Name\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelement(11, \"input\", 8);\n            i0.ɵɵtemplate(12, RegisterComponent_label_12_Template, 3, 0, \"label\", 9);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(13, \"div\", 5)(14, \"label\", 6)(15, \"span\", 7);\n            i0.ɵɵtext(16, \"Email\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelement(17, \"input\", 10);\n            i0.ɵɵtemplate(18, RegisterComponent_label_18_Template, 3, 0, \"label\", 9);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(19, \"div\", 5)(20, \"label\", 6)(21, \"span\", 7);\n            i0.ɵɵtext(22, \"Password\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelement(23, \"input\", 11);\n            i0.ɵɵtemplate(24, RegisterComponent_label_24_Template, 3, 0, \"label\", 9);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(25, \"div\", 5)(26, \"label\", 6)(27, \"span\", 7);\n            i0.ɵɵtext(28, \"Phone\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelement(29, \"input\", 12);\n            i0.ɵɵtemplate(30, RegisterComponent_label_30_Template, 3, 0, \"label\", 9);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(31, \"div\", 5)(32, \"label\", 6)(33, \"span\", 7);\n            i0.ɵɵtext(34, \"Blood Group\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(35, \"select\", 13)(36, \"option\", 14);\n            i0.ɵɵtext(37, \"Select\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(38, RegisterComponent_option_38_Template, 2, 2, \"option\", 15);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(39, RegisterComponent_label_39_Template, 3, 0, \"label\", 9);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(40, \"div\", 5)(41, \"label\", 6)(42, \"span\", 7);\n            i0.ɵɵtext(43, \"City\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelement(44, \"input\", 16);\n            i0.ɵɵtemplate(45, RegisterComponent_label_45_Template, 3, 0, \"label\", 9);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(46, \"div\", 5)(47, \"label\", 6)(48, \"span\", 7);\n            i0.ɵɵtext(49, \"Last Donation Date (optional)\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelement(50, \"input\", 17);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(51, \"div\", 5)(52, \"label\", 18)(53, \"span\", 7);\n            i0.ɵɵtext(54, \"Available for donation\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(55, \"input\", 19);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(56, \"div\", 20)(57, \"button\", 21);\n            i0.ɵɵtemplate(58, RegisterComponent_span_58_Template, 2, 0, \"span\", 22)(59, RegisterComponent_span_59_Template, 1, 0, \"span\", 23);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(60, RegisterComponent_span_60_Template, 2, 1, \"span\", 24)(61, RegisterComponent_span_61_Template, 2, 1, \"span\", 25);\n            i0.ɵɵelementEnd()()();\n          }\n          if (rf & 2) {\n            let tmp_1_0;\n            let tmp_2_0;\n            let tmp_3_0;\n            let tmp_4_0;\n            let tmp_5_0;\n            let tmp_6_0;\n            let tmp_7_0;\n            let tmp_8_0;\n            let tmp_9_0;\n            let tmp_11_0;\n            let tmp_12_0;\n            let tmp_13_0;\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"formGroup\", ctx.form);\n            i0.ɵɵadvance(6);\n            i0.ɵɵclassProp(\"input-error\", ((tmp_1_0 = ctx.form.get(\"name\")) == null ? null : tmp_1_0.invalid) && ((tmp_1_0 = ctx.form.get(\"name\")) == null ? null : tmp_1_0.touched));\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx.form.get(\"name\")) == null ? null : tmp_2_0.invalid) && ((tmp_2_0 = ctx.form.get(\"name\")) == null ? null : tmp_2_0.touched));\n            i0.ɵɵadvance(5);\n            i0.ɵɵclassProp(\"input-error\", ((tmp_3_0 = ctx.form.get(\"email\")) == null ? null : tmp_3_0.invalid) && ((tmp_3_0 = ctx.form.get(\"email\")) == null ? null : tmp_3_0.touched));\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ((tmp_4_0 = ctx.form.get(\"email\")) == null ? null : tmp_4_0.invalid) && ((tmp_4_0 = ctx.form.get(\"email\")) == null ? null : tmp_4_0.touched));\n            i0.ɵɵadvance(5);\n            i0.ɵɵclassProp(\"input-error\", ((tmp_5_0 = ctx.form.get(\"password\")) == null ? null : tmp_5_0.invalid) && ((tmp_5_0 = ctx.form.get(\"password\")) == null ? null : tmp_5_0.touched));\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ((tmp_6_0 = ctx.form.get(\"password\")) == null ? null : tmp_6_0.invalid) && ((tmp_6_0 = ctx.form.get(\"password\")) == null ? null : tmp_6_0.touched));\n            i0.ɵɵadvance(5);\n            i0.ɵɵclassProp(\"input-error\", ((tmp_7_0 = ctx.form.get(\"phone\")) == null ? null : tmp_7_0.invalid) && ((tmp_7_0 = ctx.form.get(\"phone\")) == null ? null : tmp_7_0.touched));\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ((tmp_8_0 = ctx.form.get(\"phone\")) == null ? null : tmp_8_0.invalid) && ((tmp_8_0 = ctx.form.get(\"phone\")) == null ? null : tmp_8_0.touched));\n            i0.ɵɵadvance(5);\n            i0.ɵɵclassProp(\"select-error\", ((tmp_9_0 = ctx.form.get(\"bloodGroup\")) == null ? null : tmp_9_0.invalid) && ((tmp_9_0 = ctx.form.get(\"bloodGroup\")) == null ? null : tmp_9_0.touched));\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngForOf\", ctx.bloodGroups);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ((tmp_11_0 = ctx.form.get(\"bloodGroup\")) == null ? null : tmp_11_0.invalid) && ((tmp_11_0 = ctx.form.get(\"bloodGroup\")) == null ? null : tmp_11_0.touched));\n            i0.ɵɵadvance(5);\n            i0.ɵɵclassProp(\"input-error\", ((tmp_12_0 = ctx.form.get(\"city\")) == null ? null : tmp_12_0.invalid) && ((tmp_12_0 = ctx.form.get(\"city\")) == null ? null : tmp_12_0.touched));\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ((tmp_13_0 = ctx.form.get(\"city\")) == null ? null : tmp_13_0.invalid) && ((tmp_13_0 = ctx.form.get(\"city\")) == null ? null : tmp_13_0.touched));\n            i0.ɵɵadvance(12);\n            i0.ɵɵproperty(\"disabled\", ctx.loading || ctx.form.invalid);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.loading);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.successMsg);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.errorMsg);\n          }\n        },\n        dependencies: [i3.NgForOf, i3.NgIf, i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.CheckboxControlValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n        encapsulation: 2\n      });\n    }\n  }\n  return RegisterComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}